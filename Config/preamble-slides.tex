%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% 
% Generic template for TFC/TFM/TFG/Tesis
% 
% $Id: preamble-slides.tex,v 1.4 2020/03/24 17:18:25 macias Exp $
% 
% By:
% + Javier Macías-Guarasa. 
% Departamento de Electrónica
% Universidad de Alcalá
% + Roberto Barra-Chicote. 
% Departamento de Ingeniería Electrónica
% Universidad Politécnica de Madrid   
% 
% Based on original sources by Roberto Barra, Manuel Ocaña, Jesús Nuevo,
% Pedro Revenga, Fernando Herránz and Noelia Hernández. Thanks a lot to
% all of them, and to the many anonymous contributors found (thanks to
% google) that provided help in setting all this up.
% 
% See also the additionalContributors.txt file to check the name of
% additional contributors to this work.
% 
% If you think you can add pieces of relevant/useful examples,
% improvements, please contact us at (macias@depeca.uah.es)
% 
% You can freely use this template and please contribute with
% comments or suggestions!!!
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 

% ifthen to allow using language dependent settings
\usepackage{ifthen}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[utf8]{inputenc} % Para poder escribir con acentos y ñ.
  \usepackage[T1]{fontenc}      % Para que haga bien la ``hyphenation''. No
\fi                                % usar si no es necesario, porque ralentiza muchisimo la compilación.
\usepackage{ae}               % Para que todas las fuentes sean Type1, y ninguna Type3.
\usepackage{lmodern}          % This generates a pdf with searchable
                              % accented characters!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!

\usepackage[spanish, english]{babel}

\usepackage{lastpage}

% To position logos in slide header
\usepackage{textpos}

\usepackage{bm}

% % Use this if you want to include pdf files in the final document
% \usepackage[final]{pdfpages}

% % Use this if you want to delete headers and footers in empty pages
% \usepackage{emptypage}

% % \usepackage[nottoc]{tocbibind}
% \usepackage{tocbibind}

% \usepackage{listings}
% \usepackage{longtable}
% \usepackage{afterpage}

% \usepackage{xspace}
% \usepackage{verbatim}
% \usepackage{moreverb}
% \usepackage{multicol}
% \usepackage{amsmath}
% \usepackage{eurosym}
% %\usepackage{subfig} % subfigure is obsolete... 
% \usepackage{multirow}
% \usepackage{fancyhdr}
% \usepackage{makeidx}
% \usepackage{rotating}
% \usepackage{supertabular}
% \usepackage{hhline}
% \usepackage{array}
% \usepackage[noadjust]{cite}      % Written by Donald Arseneau
% % V1.6 and later of IEEEtran pre-defines the format
% % of the cite.sty package \cite{} output to follow
% % that of IEEE. Loading the cite package will
% % result in citation numbers being automatically
% % sorted and properly "ranged". i.e.,
% % [1], [9], [2], [7], [5], [6]
% % (without using cite.sty)
% % will become:
% % [1], [2], [5]--[7], [9] (using cite.sty)
% % cite.sty's \cite will automatically add leading
% % space, if needed. Use cite.sty's noadjust option
% % (cite.sty V3.8 and later) if you want to turn this
% % off. cite.sty is already installed on most LaTeX
% % systems. The latest version can be obtained at:
% % http://www.ctan.org/tex-archive/macros/latex/contrib/supported/cite/


\usepackage{caption}
\usepackage{subcaption}


% To draw decoration in slides
\usepackage{tikz}
\newcommand{\topline}{%
  \tikz[remember picture,overlay] {%
    \filldraw[fill=red,draw=red] ([xshift=0.3cm,yshift=-1.3cm]current page.north west) rectangle ([xshift=0.6\paperwidth,yshift=-1.4cm]current page.north west);
  }
  \tikz[remember picture,overlay] {%
    \draw[red,thick] ([xshift=0.3cm,yshift=-1.3cm]current page.north west) -- ([xshift=0.985\paperwidth,yshift=-1.3cm]current page.north west);}
  \tikz[remember picture,overlay] {%
    \draw[red,thick] ([xshift=0.3cm,yshift=0.35cm]current page.south west) -- ([xshift=0.985\paperwidth,yshift=0.35cm]current page.south west);}
}

\newcommand{\toplinetitlepage}{%
  \tikz[remember picture,overlay] {%
    \filldraw[fill=red,draw=red] ([xshift=0.3cm,yshift=-1.3cm]current page.north west) rectangle ([xshift=0.985\paperwidth,yshift=-1.4cm]current page.north west);
  }
}


\usepackage{geometry}
% % \geometry{paperwidth=210mm,paperheight=297mm}

% %\usepackage[hang, flushmargin]{footmisc}   

\usepackage{hyperxmp}
\usepackage[]{hyperref}

%\usepackage[all]{hypcap}

% % Para numerar las \subsubsection
% \setcounter{secnumdepth}{5}
% % para hacer que las \subsubsection aparezcan en el indice
% \setcounter{tocdepth}{5}
% % \setcounter{lofdepth}{2}
% \setcounter{table}{1}
% \setcounter{figure}{1}
% \setcounter{secnumdepth}{4}



% \usepackage{multirow}

% \usepackage{setspace}
% % \renewcommand{\baselinestretch}{10}
% \newcommand{\mycaptiontable}[1]{
%   \begin{spacing}{0.6}
%     % \vspace{0.5cm}
%     \begin{quote}
%       % \begin{center}
%       {{Table} \thechapter.\arabic{table}: #1}
%       % \end{center}
%     \end{quote}
%     % \vspace{1cm}
%   \end{spacing}
%   \stepcounter{table}
% }

% \newcommand{\mycaptionfigure}[1]{
%   % \vspace{0.5cm}
%   \begin{spacing}{0.6}
%     \begin{quote}
%       % \begin{center}
%       {{Figure} \thechapter.\arabic{figure}: #1}
%       % \end{center}
%     \end{quote}
%     % \vspace{1cm}
%   \end{spacing}
%   \stepcounter{figure}
% }

% \usepackage{amsmath}

% \usepackage{courier}

% % ***************************************************************************
% % ***************************************************************************
% % ***************************************************************************
% \usepackage{multirow}
% \usepackage{rotating}
% \usepackage{setspace, amssymb, amsmath, epsfig, multirow, colortbl, tabularx}%
% % For acronym package:
% % If footnote is specified, text will be included in a footnote
% % If printonlyused is specified, only used acronyms will be included
% % I use the acronym sty under the sty directory as I needed the newest version
% % \usepackage[footnote,printonlyused,withpage]{acronym} 
% % \usepackage[printonlyused]{sty/acronym}

% % glossaries is better than the acronym package 
% \usepackage[acronym,shortcuts,nomain]{glossaries}


% \newcommand{\clearemptydoublepage}{\newpage{\pagestyle{empty}\cleardoublepage}}

% \pagestyle{fancy}

% \providecommand\phantomsection{}
% \onehalfspacing
% \sloppy  %better line breaks

% \renewcommand{\chaptermark}[1]{\markboth{\chaptername\ \thechapter.\ #1}{}}
% \renewcommand{\sectionmark}[1]{\markright{\thesection\ #1}{}}






% % Let's define some styles for source code listings:
% % 
% % minimizar fragmentado de listados (from
% % http://www.rafalinux.com/?p=599), pero no me funciona:
% % \lstnewenvironment{codelisting}[1][]
% % {\lstset{#1}\pagebreak[0]}{\pagebreak[0]}
% % 
% % This was using the float package
% \usepackage{float}
% \floatstyle{plaintop} % optionally change the style of the new float
% \newfloat{codefloat}{H}{cod}[chapter]

% \lstdefinestyle{console}
% {
%   basicstyle=\scriptsize\bf\ttfamily,
%   backgroundcolor=\color{gray75},
% }

% \lstdefinestyle{Cbluebox}
% {
%   language=C,
%   frame=shadowbox, 
%   rulesepcolor=\color{blue}
% }

% \lstdefinestyle{Cnice}
% {
%   language=C,
%   frame=Ltb,
%   framerule=0pt,
%   tabsize=2,
%   aboveskip=0.5cm,
%   framextopmargin=3pt,
%   framexbottommargin=3pt,
%   framexleftmargin=0.4cm,
%   framesep=0pt,
%   rulesep=.4pt,
%   backgroundcolor=\color{gray97},
%   rulesepcolor=\color{black},
%   % 
%   stringstyle=\ttfamily,
%   showstringspaces = false,
%   % basicstyle=\small\ttfamily,
%   basicstyle=\footnotesize\ttfamily,
%   commentstyle=\color{gray45},
%   keywordstyle=\bfseries,
%   % 
%   numbers=left,
%   numbersep=15pt,
%   numberstyle=\tiny,
%   numberfirstline = false,
%   breaklines=true,
% }	

% \lstdefinestyle{CppExample}
% {
%   language=C++,
%   frame=trbl,
%   tabsize=2,
%   commentstyle=\textit,
%   stringstyle=\ttfamily, 
%   basicstyle=\small,
% }	

% % This one from http://en.wikibooks.org/wiki/LaTeX/Source_Code_Listings
% \lstdefinestyle{Ccolor}
% {
%   belowcaptionskip=1\baselineskip,
%   breaklines=true,
%   frame=L,
%   xleftmargin=\parindent,
%   language=C,
%   showstringspaces=false,
%   basicstyle=\footnotesize\ttfamily,
%   keywordstyle=\bfseries\color{green!40!black},
%   commentstyle=\itshape\color{purple!40!black},
%   identifierstyle=\color{blue},
%   stringstyle=\color{orange},
% }

% % From http://tex.stackexchange.com/questions/46953/unix-command-highlighting-latex
% \lstdefinestyle{BashInputStyle}{
%   language=bash,
%   basicstyle=\small\sffamily,
%   numbers=left,
%   numberstyle=\tiny,
%   numbersep=3pt,
%   frame=tb, 
%   showspaces=false, 
%   showtabs=false,
%   showstringspaces=false,
%   columns=fullflexible,
%   backgroundcolor=\color{gray97},
%   % backgroundcolor=\color{yellow!20},
%   linewidth=0.9\linewidth,
%   xleftmargin=0.05\linewidth
% }


% % To set side-captions in figures
% \usepackage{sidecap}

% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% % This comes from TeXiS, thanks to its authors, available at
% % http://gaia.fdi.ucm.es/projects/texis 
% \def\texis{\TeX \raise.15em\hbox{\textsc{i}}S}
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% 
% % Comando:
% % 
% % \begin{FraseCelebre}
% %   \begin{Frase}
% %     Y así, del mucho leer y del poco dormir...
% %   \end{Frase}
% %   \begin{Fuente}
% %     Don Quijote de la Mancha
% %     
% %     Miguel de Cervantes
% %   \end{Fuente}
% %   \begin{FraseCelebre}
% %     
% %     Resultado:
% %     
% %     Añade la frase célebre del principio de un capítulo.
% %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%     
% \newenvironment{FraseCelebre}% Definición del entorno de FraseCelebre
% {\begin{list}{}{%
%       \setlength{\leftmargin}{0.5\textwidth}% Desplazamos el inicio de
%       % los párrafos a la derecha la mitad
%       % de la anchura de la línea de texto.
%       % Puede que quieras cambiar esto
%       % por otra cantidad como '5cm'.
%       \setlength{\parsep}{0cm}% La separación entre párrafos de la
%       % frase o de la fuente es normal, sin
%       % espacio extra.
%       \addtolength{\topsep}{0.5cm}% Aumentamos un poco la separación
%       % entre la parte de la fase célebre
%       % y los párrafos de alrededor
%     }
%   }
%   {\unskip \end{list}}

% \newenvironment{Frase}%
% {\item \begin{flushright}\small\em}%
%   {\end{flushright}}

% \newenvironment{Fuente}%
% {\item \begin{flushright}\small}%
%   {\end{flushright}}


% % To put paragraphs at page bottom
% \newenvironment{bottomparagraph}{\par\vspace*{\fill}}{\clearpage}
% % \newenvironment{bottomparagraph}{\par\vspace*{\fill}}{\clearemptydoublepage}

% % Add algorithms april 2014
% \usepackage[vlined,algochapter]{algorithm2e}

% % Add support for fonts at arbitrary sizes september 2014, for TFG's cover
% \usepackage{fix-cm}

% \usepackage{graphicx}                                                                      

\definecolor{titlecolor}{RGB}{0,173,239}

\mode<presentation>{
  % \usetheme{Warsaw}
  % \usefonttheme{structurebold}
  % \setbeamerfont{title}{family={\fontfamily{ppl}},series=\bfseries,size=\LARGE,shape=\itshape}
  
  % \definecolor{steelblue3}{rgb}{0.31,0.58,0.8}
  % \colorlet{structure}{steelblue3}
  % \usecolortheme[named=steelblue3]{structure}
  
  % \setbeamercovered{transparent}
  
  % \definecolor{skyblue3}{rgb}{0.42,0.65,0.8} 
  % \setbeamercolor{blocks}{fg=black,bg=skyblue3}
  
  % \definecolor{purple4}{rgb}{0.33,0.1,0.55}
  % \setbeamercolor{alerted text}{fg=purple4}
  
  \setbeamertemplate{navigation symbols}{}

  % \setbeamertemplate{itemize items}[square]

  \transduration{1}
  % \addtobeamertemplate{background canvas}{\transuncover[duration=1,direction=270]}{}
  % \addtobeamertemplate{background canvas}{\transdissolve[duration=0.5,direction=90]}{}
  % \addtobeamertemplate{background canvas}{\transglitter[direction=90]}{}

  \setbeamertemplate{frametitle}{\Large\insertframetitle\\\large\textcolor{blue}{\insertframesubtitle}}

  \setbeamercolor{item}{fg=red} % color of bullets
  \setbeamertemplate{itemize item}{$\bm{\Box}$}
  \setbeamercolor{itemize/enumerate body}{fg=black}

  \setbeamertemplate{itemize subitem}{\scriptsize$\blacksquare$}
  % Fix compilation error in modern latex the shape key does not exists
  % \setbeamercolor{itemize/enumerate subbody}{fg=blue,shape=\itshape}
  \setbeamercolor{itemize/enumerate subbody}{fg=blue}

  \setbeamertemplate{itemize subsubitem}{\tiny$\Box$}
  % Fix compilation error in modern latex the shape key does not exists
  % \setbeamercolor{itemize/enumerate subsubbody}{fg=red,shape=\itshape}
  \setbeamercolor{itemize/enumerate subsubbody}{fg=red}

  \setbeamercolor{frametitle}{fg=black}
  \setbeamercolor{framesubtitle}{fg=blue}
  \setbeamerfont{framesubtitle}{size=\Large}

  %\setbeamercolor{subitem}{fg=red}
  %\setbeamercolor{itemize/enumerate subbody}{fg=gray}
  %\setbeamertemplate{itemize subitem}{{\textendash}}
  %\setbeamerfont{itemize/enumerate subbody}{size=\footnotesize}
  %\setbeamerfont{itemize/enumerate subitem}{size=\footnotesize}

  % \setbeamertemplate{itemize items}{\scriptsize\raise1.25pt\hbox{\donotcoloroutermaths$\blacktriangleright$}}
  % \setbeamertemplate{itemize subitems}{\tiny\raise1.5pt\hbox{\donotcoloroutermaths$\blacktriangleright$}}
  % \setbeamertemplate{itemize subsubitems}{\tiny\raise1.5pt\hbox{\donotcoloroutermaths$\blacktriangleright$}}
  % \setbeamertemplate{enumerate items}{\insertenumlabel.}
  % \setbeamertemplate{enumerate subitems}{\insertenumlabel.\insertsubenumlabel}
  % \setbeamertemplate{enumerate subsubitems}{\insertenumlabel.\insertsubenumlabel.\insertsubsubenumlabel}
  % \setbeamertemplate{enumerate mini template}{\insertenumlabel}
  
  \let\Tiny=\tiny
  % Fix compilation error in modern latex the margin top/bottom keys don't exists
  % \setbeamersize{text margin left=0.3cm,text margin right=0.3cm, text margin top=0.3cm, text margin bottom=0.3cm}
  \setbeamersize{text margin left=0.3cm,text margin right=0.3cm}
}

\addtobeamertemplate{title page}{}{%
  \toplinetitlepage

  \begin{textblock*}{100mm}(0.05cm,-7.9cm)
    \includegraphics[height=1cm]{logoUAHazul.jpg}
  \end{textblock*}
  
  \begin{textblock*}{100mm}(11.3cm,-7.9cm)
    \includegraphics[height=1.cm]{Logo_depeca_azul.jpg}
  \end{textblock*}

  \begin{textblock*}{\paperwidth}(-0.5cm,0.45cm)
    \begin{flushright}
      \raisebox{-.15\height}{}\tiny\myDegreefull
    \end{flushright}
  \end{textblock*}

  \begin{textblock*}{\textwidth}(0cm,0.86cm)
%    \raisebox{-.15\height}{\includegraphics[height=0.2cm]{logogeintra+pcr.png}} Proyecto Spaces \textemdash~UPM+UAH
    \raisebox{-.15\height}{}\tiny Defensa~\myWorkType{} %\thepage/\pageref{Lastpage}
  \end{textblock*}

  \tikz[remember picture,overlay] {%
    \draw[red,thick] ([xshift=0.3cm,yshift=0.35cm]current page.south west) -- ([xshift=0.985\paperwidth,yshift=0.35cm]current page.south west);}

  % \begin{textblock*}{100mm}(0cm,-0.6cm)
  %   \includegraphics[height=1.06cm]{multilogo-SPACES.png}
  % \end{textblock*}
}


\addtobeamertemplate{frametitle}{}{%
  \begin{textblock*}{100mm}(0.965\textwidth,-1cm)
    \includegraphics[height=1.1cm]{logoUAH+DEPECA.png}
%    \includegraphics[width=0.5cm]{Logo-upm-uah.png}
  \end{textblock*}}

\setbeamertemplate{footline}{
  \begin{textblock*}{\textwidth}(0.3cm,-0.25cm)
%    \raisebox{-.15\height}{\includegraphics[height=0.2cm]{logogeintra+pcr.png}} Proyecto Spaces \textemdash~UPM+UAH
    \raisebox{-.15\height}{}Defensa \myWorkType{}~\textemdash~\myAuthorFullName %\thepage/\pageref{Lastpage}
  \end{textblock*}

  \begin{textblock*}{\textwidth}(-0.3cm,-0.7cm)
    \begin{flushright}
      \tiny\thepage/\pageref{lastPage}
    \end{flushright}
  \end{textblock*}

\topline
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% To allow bold + tt (from https://tex.stackexchange.com/questions/215482/how-do-i-get-texttt-with-bold-face-in-latex)
\usepackage{bold-extra}

\input{../Config/config-bibbackend.tex}


%%% Local Variables:
%%% TeX-master: "../book"
%%% End:


